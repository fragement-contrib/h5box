import{i as Rt}from"./index.umd.min-d36d4afc.js";/*!
* VISLite JavaScript Library v1.2.1
* git+https://github.com/oi-contrib/VISLite.git
*/(function(lt,St){var Q;Q=function(){var K=function(){function r(t){t===void 0&&(t=.5),this.name="Hermite",this.__u=t}return r.prototype.setP=function(t,e,i,n,o,s){if(!(t<i))throw new Error("The point x-position should be increamented!");this.__a=t,this.__b=i;var _=this.__u*o,h=this.__u*s;return e/=i-t,n/=i-t,this.__MR=[2*e-2*n+_+h,3*n-3*e-2*_-h,_,e],this},r.prototype.use=function(t){if(this.__MR){var e=(t-this.__a)/(this.__b-this.__a),i=e*e;return(e*i*this.__MR[0]+i*this.__MR[1]+e*this.__MR[2]+this.__MR[3])*(this.__b-this.__a)}throw new Error("You shoud first set the position!")},r}(),pt=function(){function r(t){t===void 0&&(t=0),this.name="Cardinal",this.__t=t}return r.prototype.setP=function(t){this.__HS={x:[],h:[]};var e,i,n=(t[1][1]-t[0][1])/(t[1][0]-t[0][0]);for(this.__HS.x[0]=t[0][0],e=1;e<t.length;e++){if(t[e][0]<=t[e-1][0])throw new Error("The point position should be increamented!");this.__HS.x[e]=t[e][0],i=e<t.length-1?t[e+1][1]>t[e][1]&&t[e-1][1]>t[e][1]||t[e+1][1]<t[e][1]&&t[e-1][1]<t[e][1]||t[e+1][1]==t[e][1]||t[e-1][1]==t[e][1]?0:(t[e+1][1]-t[e-1][1])/(t[e+1][0]-t[e-1][0]):(t[e][1]-t[e-1][1])/(t[e][0]-t[e-1][0]),this.__HS.h[e-1]=new K(.5*(1-this.__t)).setP(t[e-1][0],t[e-1][1],t[e][0],t[e][1],n,i),n=i}return this},r.prototype.use=function(t){if(this.__HS){for(this.__i=-1;this.__i+1<this.__HS.x.length&&(t>this.__HS.x[this.__i+1]||this.__i==-1&&t>=this.__HS.x[this.__i+1]);)this.__i+=1;return this.__i<0?this.__HS.h[0].use(this.__HS.x[0]):this.__i>=this.__HS.h.length?this.__HS.h[this.__HS.h.length-1].use(this.__HS.x[this.__HS.x.length-1]):this.__HS.h[this.__i].use(t)}throw new Error("You shoud first set the position!")},r}(),b=function(r,t){for(var e=[],i=0;i<4;i++)for(var n=0;n<t.length/4;n++)e[4*n+i]=r[i]*t[4*n]+r[i+4]*t[4*n+1]+r[i+8]*t[4*n+2]+r[i+12]*t[4*n+3];return e},tt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ft=function(){function r(t){t===void 0&&(t=tt),this.name="Matrix4",this.__matrix4=t}return r.prototype.setValue=function(t){return t===void 0&&(t=tt),this.__matrix4=t,this},r.prototype.move=function(t,e,i,n){return n===void 0&&(n=0),this.__matrix4=b(function(o,s,_,h){h===void 0&&(h=0);var a=Math.sqrt(s*s+_*_+h*h);return[1,0,0,0,0,1,0,0,0,0,1,0,s*o/a,_*o/a,h*o/a,1]}(t,e,i,n),this.__matrix4),this},r.prototype.rotate=function(t,e,i,n,o,s,_){var h=function(a,l,p,f,v,c){if(typeof a=="number"&&typeof l=="number"){if(typeof p!="number"?(p=0,f=a,v=l,c=1):typeof f=="number"&&typeof v=="number"&&typeof c=="number"||(f=a,v=l,c=p,a=0,l=0,p=0),a==f&&l==v&&p==c)throw new Error("It's not a legitimate ray!");var u=Math.sqrt((f-a)*(f-a)+(v-l)*(v-l)),g=u!=0?(v-l)/u:1,d=u!=0?(f-a)/u:0,m=(f-a)*d+(v-l)*g,y=c-p,T=Math.sqrt(m*m+y*y),w=T!=0?y/T:1,x=T!=0?m/T:0;return[[g,w*d,d*x,0,-d,g*w,g*x,0,0,-x,w,0,l*d-a*g,p*x-a*d*w-l*g*w,-a*d*x-l*g*x-p*w,1],[g,-d,0,0,w*d,w*g,-x,0,d*x,g*x,w,0,a,l,p,1]]}throw new Error("a1 and b1 is required!")}(e,i,n,o,s,_);return this.__matrix4=b(b(b(h[1],function(a){var l=Math.sin(a),p=Math.cos(a);return[p,l,0,0,-l,p,0,0,0,0,1,0,0,0,0,1]}(t)),h[0]),this.__matrix4),this},r.prototype.scale=function(t,e,i,n,o,s){return n===void 0&&(n=0),o===void 0&&(o=0),s===void 0&&(s=0),this.__matrix4=b(function(_,h,a,l,p,f){return l===void 0&&(l=0),p===void 0&&(p=0),f===void 0&&(f=0),[_,0,0,0,0,h,0,0,0,0,a,0,l-l*_,p-p*h,f-f*a,1]}(t,e,i,n,o,s),this.__matrix4),this},r.prototype.multiply=function(t,e){return e===void 0&&(e=!1),this.__matrix4=e?b(this.__matrix4,t):b(t,this.__matrix4),this},r.prototype.use=function(t,e,i,n){return i===void 0&&(i=0),n===void 0&&(n=1),b(this.__matrix4,[t,e,i,n])},r.prototype.value=function(){return this.__matrix4},r}();function V(r,t,e,i,n){var o=Math.cos(e),s=Math.sin(e);return[(i-r)*o-(n-t)*s+r,(i-r)*s+(n-t)*o+t]}var M,P=[];function et(r,t,e){arguments.length<2&&(t=400),arguments.length<3&&(e=function(){});var i={timer:function(o,s,_){if(!o)throw new Error("Tick is required!");var h=new Date().valueOf()+"_"+(1e3*Math.random()).toFixed(0);return P.push({id:h,createTime:new Date,tick:o,duration:s,callback:_}),i.start(),h},start:function(){M||(M=setInterval(i.tick,13))},tick:function(){var o,s,_,h,a,l,p,f=P;for((P=[]).length=0,s=0;s<f.length;s++)o=(a=f[s]).createTime,_=a.tick,l=a.duration,h=a.callback,_(p=(p=(+new Date().valueOf()-o.valueOf())/l)>1?1:p),p<1&&a.id?P.push(a):h(p);P.length<=0&&i.stop()},stop:function(){M&&(clearInterval(M),M=null)}},n=i.timer(function(o){r(o)},t,e);return function(){var o;for(o in P)if(P[o].id==n)return void(P[o].id=void 0)}}var z=function(r,t){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])},z(r,t)};function U(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}z(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var N=function(){return N=Object.assign||function(r){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},N.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var it=["href","title","show","type","role","actuate"];function A(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}var S=function(r,t,e){it.indexOf(t)>-1?r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:"+t,e+""):r.setAttribute(t,e+"")},E=S;function I(r,t){S(r,"stroke",t.strokeStyle),S(r,"fill",t.fillStyle)}function k(r,t){S(r,"fill",t.fillStyle)}function L(r,t){S(r,"stroke",t.strokeStyle),S(r,"fill","none")}var B=function(r,t,e,i,n){var o=Math.cos(e),s=Math.sin(e);return[+((i-r)*o-(n-t)*s+r).toFixed(7),+((i-r)*s+(n-t)*o+t).toFixed(7)]};function nt(r,t,e,i,n,o,s){t<0&&(r+=t,t*=-1);var _,h=[];_=B(0,0,r,n,0),h[0]=_[0],h[1]=_[1],_=B(0,0,t,_[0],_[1]),h[2]=_[0],h[3]=_[1],_=B(0,0,r,o,0),h[4]=_[0],h[5]=_[1],_=B(0,0,t,_[0],_[1]),h[6]=_[0],h[7]=_[1],s(r,r+t,h[0]+e,h[1]+i,h[4]+e,h[5]+i,h[2]+e,h[3]+i,h[6]+e,h[7]+i,.5*(o-n))}var rt=function(r){var t=r.getElementsByTagName("defs");if(t.length<=0){var e=A("defs");return r.appendChild(e),e}return t[0]},D=function(r,t,e,i,n){if(r.nodeName.toLowerCase()!=="text")throw new Error("Need a <text> !");E(r,"dy",{top:.5*t.fontSize,middle:0,bottom:.5*-t.fontSize}[t.textBaseline]),function(o,s){for(var _ in s)o.style[_]=s[_]}(r,{"text-anchor":{left:"start",right:"end",center:"middle"}[t.textAlign],"dominant-baseline":"central","font-size":t.fontSize+"px","font-family":t.fontFamily}),E(r,"x",e),E(r,"y",i),typeof n=="number"&&E(r,"transform","rotate("+(n%=360)+","+e+","+i+")")},G=function(r,t,e,i){if(r.nodeName.toLowerCase()!=="circle")throw new Error("Need a <circle> !");E(r,"cx",t),E(r,"cy",e),E(r,"r",i)},H=function(r,t,e){if(r.nodeName.toLowerCase()!=="path")throw new Error("Need a <path> !");E(r,"d",t),E(r,"stroke-dasharray",e.lineDash.join(",")),E(r,"stroke-width",e.lineWidth+""),E(r,"stroke-linecap",e.lineCap+""),E(r,"stroke-linejoin",e.lineJoin+"")},X=function(r,t,e,i,n){if(r.nodeName.toLowerCase()!=="rect")throw new Error("Need a <rect> !");n<0&&(e-=n*=-1),i<0&&(t-=i*=-1),E(r,"x",t),E(r,"y",e),E(r,"width",i),E(r,"height",n)},j=function(r,t,e,i,n,o,s,_){if(r.nodeName.toLowerCase()!=="path")throw new Error("Need a <path> !");if(s=s/180*Math.PI,_=_/180*Math.PI,s%=2*Math.PI,n>o){var h=n;n=o,o=h}_>=1.999999*Math.PI||_<=1.999999*-Math.PI?_=1.999999*Math.PI:_%=2*Math.PI,nt(s,_,e,i,n,o,function(a,l,p,f,v,c,u,g,d,m,y){var T=l-a>Math.PI?1:0,w="M"+p+" "+f;y<0&&(y=-y),w+="A"+n+" "+n+" 0 "+T+" 1 "+u+" "+g,t.arcEndCap=="round"?w+="A"+y+" "+y+"  0 1 0 "+d+" "+m:t.arcEndCap=="-round"?w+="A"+y+" "+y+"  0 1 1 "+d+" "+m:w+="L"+d+" "+m,w+="A"+o+" "+o+" 0 "+T+" 0 "+v+" "+c,t.arcStartCap=="round"?w+="A"+y+" "+y+"  0 1 0 "+p+" "+f:t.arcStartCap=="-round"?w+="A"+y+" "+y+"  0 1 1 "+p+" "+f:w+="L"+p+" "+f,t.arcStartCap=="butt"&&(w+="Z"),E(r,"d",w)})},ot=function(r,t){var e={value:function(){return"url(#"+t+")"},setColor:function(i,n){var o=A("stop");return r.appendChild(o),E(o,"offset",100*i+"%"),E(o,"style","stop-color:"+n+";"),e}};return e},ct=function(){function r(t){this.name="SVG",this.__config={fillStyle:"#000",strokeStyle:"#000",textAlign:"left",textBaseline:"middle",fontSize:16,fontFamily:"sans-serif",arcStartCap:"butt",arcEndCap:"butt",lineDash:[],lineWidth:1,lineCap:"butt",lineJoin:"miter"},this.__path="",this.__currentPosition=[],this.__svg=t}return r.prototype.config=function(t){if(typeof t!="object")return this.__config[t];for(var e in t)this.__config[e]=t[e];return this},r.prototype.reset=function(){return this.config({fillStyle:"#000",strokeStyle:"#000",textAlign:"left",textBaseline:"middle",fontSize:16,fontFamily:"sans-serif",arcStartCap:"butt",arcEndCap:"butt",lineDash:[],lineWidth:1,lineCap:"butt",lineJoin:"miter"}),this},r.prototype.useEl=function(t){return this.__useEl=t,this},r.prototype.getEl=function(){return this.__useEl},r.prototype.appendEl=function(t,e){return e=e||this.__svg,typeof t=="string"&&(t=A(t)),e.appendChild(t),this.__useEl=t,this},r.prototype.appendBoard=function(t,e){var i=t;if(typeof t=="string"&&(i={text:"text",path:"path",arc:"path",circle:"circle",rect:"rect"}[t]||""),i=="")throw new Error("Unsupported drawing method:"+t);return this.appendEl(i,e)},r.prototype.remove=function(){if(!this.__useEl)throw new Error("Currently, no node can be deleted.");return this.__useEl.parentNode.removeChild(this.__useEl),this},r.prototype.attr=function(t){if(!this.__useEl)throw new Error("Currently, no node can be modified or viewed.");if(typeof t!="object")return function(i,n){return it.indexOf(n)>-1&&(n="xlink:"+n),i.getAttribute(n)}(this.__useEl,t);for(var e in t)E(this.__useEl,e,t[e]);return this},r.prototype.fillText=function(t,e,i,n){return n===void 0&&(n=0),D(this.__useEl,this.__config,e,i,n),this.__useEl.textContent=t,k(this.__useEl,this.__config),this},r.prototype.strokeText=function(t,e,i,n){return n===void 0&&(n=0),D(this.__useEl,this.__config,e,i,n),this.__useEl.textContent=t,L(this.__useEl,this.__config),this},r.prototype.fullText=function(t,e,i,n){return n===void 0&&(n=0),D(this.__useEl,this.__config,e,i,n),this.__useEl.textContent=t,I(this.__useEl,this.__config),this},r.prototype.fillArc=function(t,e,i,n,o,s){return j(this.__useEl,this.__config,t,e,i,n,o,s),k(this.__useEl,this.__config),this},r.prototype.strokeArc=function(t,e,i,n,o,s){return j(this.__useEl,this.__config,t,e,i,n,o,s),L(this.__useEl,this.__config),this},r.prototype.fullArc=function(t,e,i,n,o,s){return j(this.__useEl,this.__config,t,e,i,n,o,s),I(this.__useEl,this.__config),this},r.prototype.fillCircle=function(t,e,i){return G(this.__useEl,t,e,i),k(this.__useEl,this.__config),this},r.prototype.strokeCircle=function(t,e,i){return G(this.__useEl,t,e,i),L(this.__useEl,this.__config),this},r.prototype.fullCircle=function(t,e,i){return G(this.__useEl,t,e,i),I(this.__useEl,this.__config),this},r.prototype.fillRect=function(t,e,i,n){return X(this.__useEl,t,e,i,n),k(this.__useEl,this.__config),this},r.prototype.strokeRect=function(t,e,i,n){return X(this.__useEl,t,e,i,n),L(this.__useEl,this.__config),this},r.prototype.fullRect=function(t,e,i,n){return X(this.__useEl,t,e,i,n),I(this.__useEl,this.__config),this},r.prototype.beginPath=function(){return this.__currentPosition=[],this.__path="",this},r.prototype.closePath=function(){return this.__path+="Z",this},r.prototype.moveTo=function(t,e){return this.__currentPosition=[t,e],this.__path+="M"+t+" "+e,this},r.prototype.lineTo=function(t,e){return this.__currentPosition=[t,e],this.__path+=(this.__path==""?"M":"L")+t+" "+e,this},r.prototype.fill=function(){return H(this.__useEl,this.__path,this.__config),k(this.__useEl,this.__config),this},r.prototype.stroke=function(){return H(this.__useEl,this.__path,this.__config),L(this.__useEl,this.__config),this},r.prototype.full=function(){return H(this.__useEl,this.__path,this.__config),I(this.__useEl,this.__config),this},r.prototype.arc=function(t,e,i,n,o){var s=V(t,e,n/180*Math.PI,t+i,e),_=V(t,e,(n+o)/180*Math.PI,t+i,e);return this.__path==""?this.__path+="M"+s[0]+","+s[1]:s[0]==this.__currentPosition[0]&&s[1]==this.__currentPosition[1]||(this.__path+="L"+s[0]+","+s[1]),this.__path+="A"+i+","+i+" 0 "+(o>180||o<-180?1:0)+","+(o>0?1:0)+" "+_[0]+","+_[1],this},r.prototype.quadraticCurveTo=function(t,e,i,n){return this.__path+="Q"+t+" "+e+","+i+" "+n,this},r.prototype.bezierCurveTo=function(t,e,i,n,o,s){return this.__path+="C"+t+" "+e+","+i+" "+n+","+o+" "+s,this},r.prototype.bind=function(t,e){return this.__useEl.addEventListener(t,function(i){e.call(this,i,this)},!1),this},r.prototype.createLinearGradient=function(t,e,i,n){return function(o,s,_,h,a){var l=rt(o),p="vislite-lg-"+new Date().valueOf()+"-"+Math.random(),f=A("linearGradient");return l.appendChild(f),E(f,"id",p),E(f,"x1",s+"%"),E(f,"y1",_+"%"),E(f,"x2",h+"%"),E(f,"y2",a+"%"),ot(f,p)}(this.__svg,t,e,i,n)},r.prototype.createRadialGradient=function(t,e,i){return function(n,o,s,_){var h=rt(n),a="vislite-rg-"+new Date().valueOf()+"-"+Math.random(),l=A("radialGradient");return h.appendChild(l),E(l,"id",a),E(l,"cx",o+"%"),E(l,"cy",s+"%"),E(l,"r",_+"%"),ot(l,a)}(this.__svg,t,e,i)},r}(),dt=function(r){function t(e){if(!e)throw new Error("VISLite SVG:The mount point requires an HTMLElement type but encountered null.");var i=e.clientWidth,n=e.clientHeight,o=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.appendChild(o),o.setAttribute("width",i+""),o.setAttribute("height",n+""),o.setAttribute("viewBox","0 0 "+i+" "+n),r.call(this,o)||this}return U(t,r),t}(ct),C=function(r,t,e,i,n){return r.beginPath(),r.translate(e,i),r.rotate(n),r.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,r},q=function(r,t,e,i,n,o,s,_){if(n>o){var h=n;n=o,o=h}return s%=2*Math.PI,_>=1.999999*Math.PI||_<=1.999999*-Math.PI?_=2*Math.PI:_%=2*Math.PI,nt(s,_,e,i,n,o,function(a,l,p,f,v,c,u,g,d,m,y){y<0&&(y=-y),r.beginPath(),r.moveTo(p,f),r.arc(e,i,n,a,l,!1),t.arcEndCap=="round"?r.arc(.5*(u+d),.5*(g+m),y,l-Math.PI,l,!0):t.arcEndCap=="-round"?r.arc(.5*(u+d),.5*(g+m),y,l-Math.PI,l,!1):r.lineTo(d,m),r.arc(e,i,o,l,a,!0),t.arcStartCap=="round"?r.arc(.5*(p+v),.5*(f+c),y,a,a-Math.PI,!0):t.arcStartCap=="-round"?r.arc(.5*(p+v),.5*(f+c),y,a,a-Math.PI,!1):r.lineTo(p,f)}),t.arcStartCap=="butt"&&r.closePath(),r},W=function(r,t,e,i){return r.beginPath(),r.moveTo(t+i,e),r.arc(t,e,i,0,2*Math.PI),r},Y=function(r,t,e,i,n){return r.beginPath(),r.rect(t,e,i,n),r};function J(r,t,e,i,n){for(var o=0,s="",_=0;_<t.length;_++)r.measureText(s+t[_]).width>e||/\n$/.test(s)?(n(s,((o+=1)-.5)*i),s=t[_]):_==t.length-1?(o+=1,n(s+t[_],(o-.5)*i)):s+=t[_];return o*i}function $(r){var t={fontSize:16,fontFamily:"sans-serif",fontWeight:400,fontStyle:"normal",arcStartCap:"butt",arcEndCap:"butt"},e={fillStyle:"black",strokeStyle:"black",lineWidth:1,lineCap:"butt",lineJoin:"miter",lineDash:[],textAlign:"left",textBaseline:"middle",shadowBlur:0,shadowColor:"black"};return r=="special"?t:r=="init"?e:N(N({},t),e)}var st=function(){function r(t,e,i,n,o){e===void 0&&(e={}),n===void 0&&(n=!1),this.__region=null,this.__onlyRegion=!1,this.__onlyView=!1,this.__specialConfig=$("special"),this.__initConfig=$("init"),this.painter=t.getContext("2d",e),this.__region=i,this.__isPainter=n,this.painter.textBaseline="middle",this.painter.textAlign="left"}return r.prototype.useConfig=function(t,e){if(this.__region&&!this.__onlyView&&["fillStyle","strokeStyle","shadowBlur","shadowColor"].indexOf(t)<0&&this.__region.useConfig(t,e),this.__isPainter&&this.__onlyRegion)return this;if(t=="lineDash")this.painter.setLineDash&&this.painter.setLineDash(e);else if(t in this.__specialConfig)t=="fontSize"&&(e=Math.round(e)),this.__specialConfig[t]=e;else{if(!(t in this.__initConfig))throw new Error("Illegal configuration item of painter : "+t+" !");this.painter[t]=e}return this},r.prototype.fillText=function(t,e,i,n){return n===void 0&&(n=0),this.__region&&!this.__onlyView&&this.__region.fillText(t,e,i,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),C(this.painter,this.__specialConfig,e,i,n).fillText(t,0,0),this.painter.restore()),this},r.prototype.strokeText=function(t,e,i,n){return n===void 0&&(n=0),this.__region&&!this.__onlyView&&this.__region.strokeText(t,e,i,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),C(this.painter,this.__specialConfig,e,i,n).strokeText(t,0,0),this.painter.restore()),this},r.prototype.fullText=function(t,e,i,n){return n===void 0&&(n=0),this.__region&&!this.__onlyView&&this.__region.fullText(t,e,i,n),this.__isPainter&&this.__onlyRegion||(this.painter.save(),C(this.painter,this.__specialConfig,e,i,n),this.painter.fillText(t,0,0),this.painter.strokeText(t,0,0),this.painter.restore()),this},r.prototype.fillTexts=function(t,e,i,n,o,s){var _=this;o===void 0&&(o=1.2),s===void 0&&(s=0);var h=0;if(this.__region&&!this.__onlyView&&(h=this.__region.fillTexts(t,e,i,n,o)),this.__isPainter&&this.__onlyRegion)return h;this.painter.save(),C(this.painter,this.__specialConfig,e,i,s);var a=J(this.painter,t,n,this.__specialConfig.fontSize*o,function(l,p){_.painter.fillText(l,0,p)});return this.painter.restore(),a},r.prototype.strokeTexts=function(t,e,i,n,o,s){var _=this;o===void 0&&(o=1.2),s===void 0&&(s=0);var h=0;if(this.__region&&!this.__onlyView&&(h=this.__region.fillTexts(t,e,i,n,o)),this.__isPainter&&this.__onlyRegion)return h;this.painter.save(),C(this.painter,this.__specialConfig,e,i,s);var a=J(this.painter,t,n,this.__specialConfig.fontSize*o,function(l,p){_.painter.strokeText(l,0,p)});return this.painter.restore(),a},r.prototype.fullTexts=function(t,e,i,n,o,s){var _=this;o===void 0&&(o=1.2),s===void 0&&(s=0);var h=0;if(this.__region&&!this.__onlyView&&(h=this.__region.fillTexts(t,e,i,n,o)),this.__isPainter&&this.__onlyRegion)return h;this.painter.save(),C(this.painter,this.__specialConfig,e,i,s);var a=J(this.painter,t,n,this.__specialConfig.fontSize*o,function(l,p){_.painter.fillText(l,0,p),_.painter.strokeText(l,0,p)});return this.painter.restore(),a},r.prototype.beginPath=function(){return this.__region&&!this.__onlyView&&this.__region.beginPath(),this.__isPainter&&this.__onlyRegion||this.painter.beginPath(),this},r.prototype.closePath=function(){return this.__region&&!this.__onlyView&&this.__region.closePath(),this.__isPainter&&this.__onlyRegion||this.painter.closePath(),this},r.prototype.moveTo=function(t,e){return this.__region&&!this.__onlyView&&this.__region.moveTo(t,e),this.__isPainter&&this.__onlyRegion||this.painter.moveTo(Math.round(t)+.5,Math.round(e)+.5),this},r.prototype.lineTo=function(t,e){return this.__region&&!this.__onlyView&&this.__region.lineTo(t,e),this.__isPainter&&this.__onlyRegion||this.painter.lineTo(Math.round(t)+.5,Math.round(e)+.5),this},r.prototype.arc=function(t,e,i,n,o){return this.__region&&!this.__onlyView&&this.__region.arc(t,e,i,n,o),this.__isPainter&&this.__onlyRegion||this.painter.arc(t,e,i,n,n+o,o<0),this},r.prototype.fill=function(){return this.__region&&!this.__onlyView&&this.__region.fill(),this.__isPainter&&this.__onlyRegion||this.painter.fill(),this},r.prototype.stroke=function(){return this.__region&&!this.__onlyView&&this.__region.stroke(),this.__isPainter&&this.__onlyRegion||this.painter.stroke(),this},r.prototype.full=function(){return this.__region&&!this.__onlyView&&this.__region.full(),this.__isPainter&&this.__onlyRegion||(this.painter.fill(),this.painter.stroke()),this},r.prototype.save=function(){return this.__region&&!this.__onlyView&&this.__region.save(),this.__isPainter&&this.__onlyRegion||this.painter.save(),this},r.prototype.restore=function(){return this.__region&&!this.__onlyView&&this.__region.restore(),this.__isPainter&&this.__onlyRegion||this.painter.restore(),this},r.prototype.clip=function(){return this.__region&&!this.__onlyView&&this.__region.clip(),this.__isPainter&&this.__onlyRegion||this.painter.clip(),this},r.prototype.quadraticCurveTo=function(t,e,i,n){return this.__region&&!this.__onlyView&&this.__region.quadraticCurveTo(t,e,i,n),this.__isPainter&&this.__onlyRegion||this.painter.quadraticCurveTo(t,e,i,n),this},r.prototype.bezierCurveTo=function(t,e,i,n,o,s){return this.__region&&!this.__onlyView&&this.__region.bezierCurveTo(t,e,i,n,o,s),this.__isPainter&&this.__onlyRegion||this.painter.bezierCurveTo(t,e,i,n,o,s),this},r.prototype.clearRect=function(t,e,i,n){return this.__region&&!this.__onlyView&&this.__region.clearRect(t,e,i,n),this.__isPainter&&this.__onlyRegion||this.painter.clearRect(t,e,i,n),this},r.prototype.fillArc=function(t,e,i,n,o,s){return this.__region&&!this.__onlyView&&this.__region.fillArc(t,e,i,n,o,s),this.__isPainter&&this.__onlyRegion||q(this.painter,this.__specialConfig,t,e,i,n,o,s).fill(),this},r.prototype.strokeArc=function(t,e,i,n,o,s){return this.__region&&!this.__onlyView&&this.__region.strokeArc(t,e,i,n,o,s),this.__isPainter&&this.__onlyRegion||q(this.painter,this.__specialConfig,t,e,i,n,o,s).stroke(),this},r.prototype.fullArc=function(t,e,i,n,o,s){return this.__region&&!this.__onlyView&&this.__region.fullArc(t,e,i,n,o,s),this.__isPainter&&this.__onlyRegion||(q(this.painter,this.__specialConfig,t,e,i,n,o,s),this.painter.fill(),this.painter.stroke()),this},r.prototype.fillCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.fillCircle(t,e,i),this.__isPainter&&this.__onlyRegion||W(this.painter,t,e,i).fill(),this},r.prototype.strokeCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.strokeCircle(t,e,i),this.__isPainter&&this.__onlyRegion||W(this.painter,t,e,i).stroke(),this},r.prototype.fullCircle=function(t,e,i){return this.__region&&!this.__onlyView&&this.__region.fullCircle(t,e,i),this.__isPainter&&this.__onlyRegion||(W(this.painter,t,e,i),this.painter.fill(),this.painter.stroke()),this},r.prototype.fillRect=function(t,e,i,n){return this.__region&&!this.__onlyView&&this.__region.fillRect(t,e,i,n),this.__isPainter&&this.__onlyRegion||Y(this.painter,t,e,i,n).fill(),this},r.prototype.strokeRect=function(t,e,i,n){return this.__region&&!this.__onlyView&&this.__region.strokeRect(t,e,i,n),this.__isPainter&&this.__onlyRegion||Y(this.painter,t,e,i,n).stroke(),this},r.prototype.fullRect=function(t,e,i,n){return this.__region&&!this.__onlyView&&this.__region.fullRect(t,e,i,n),this.__isPainter&&this.__onlyRegion||(Y(this.painter,t,e,i,n),this.painter.fill(),this.painter.stroke()),this},r.prototype.draw=function(){return Promise.resolve()},r.prototype.drawImage=function(t,e,i,n,o,s){var _=this;return s===void 0&&(s=!1),new Promise(function(h){if(_.__region&&!_.__onlyView&&_.__region.fillRect(e,i,n,o),_.__isPainter&&_.__onlyRegion)h({});else if(typeof t!="string"||s)_.painter.drawImage(t,e,i,n,o),h({});else{var a=new Image;a.onload=function(){_.painter.drawImage(a,e,i,n,o),h({})},a.src=t}})},r.prototype.install=function(t){var e=this,i=function(s){if(s in n)throw new Error("VISLite Canvas:Method already exists and cannot be overwritten.");n[s]=function(){for(var _=[],h=0;h<arguments.length;h++)_[h]=arguments[h];var a=t[s].apply(e,_);return a!=null?a:e}},n=this;for(var o in t)i(o);return this},r}();function _t(r,t,e,i){for(var n=[],o=0;o<i;o++)n[o]=r;return function(){for(var s=0;s<i;s++){if(n[s]+e<t){n[s]=+(n[s]+e).toFixed(7);break}s<i-1&&(n[s]=r)}return n}}var Z=function(r,t){var e={value:function(){return r},setColor:function(i,n){return r.addColorStop(t?t(i):i,n),e}};return e},ht=function(r){function t(e,i,n,o){n===void 0&&(n={}),o===void 0&&(o=1);var s=r.call(this,e,n,i?new st(i,{willReadFrequently:!0}):void 0,!0,o)||this;return s.name="Canvas",s.__regionList={},s.__regionAssemble=_t(0,255,10,3),s.__scaleSize=o,s.setRegion(""),s}return U(t,r),t.prototype.config=function(e){for(var i in e)this.useConfig(i,e[i]);return this},t.prototype.reset=function(){return this.config($()),this},t.prototype.onlyRegion=function(e){return this.__onlyRegion=e,this},t.prototype.onlyView=function(e){return this.__onlyView=e,this},t.prototype.setRegion=function(e){if(this.__region)if(e){if(this.__regionList[e]==null){var i=this.__regionAssemble();this.__regionList[e]="rgb("+i[0]+","+i[1]+","+i[2]+")"}this.__region.useConfig("fillStyle",this.__regionList[e])&&this.__region.useConfig("strokeStyle",this.__regionList[e])}else this.__region.useConfig("fillStyle","#000000")&&this.__region.useConfig("strokeStyle","#000000");return this},t.prototype.getRegion=function(e,i){var n=this;return new Promise(function(o){var s=n.__region?n.__region.painter.getImageData(e-.5,i-.5,1,1):{data:[0,0,0,0]},_=s.data,h=function(){if(n.__region){for(var a in n.__regionList)if("rgb("+_[0]+","+_[1]+","+_[2]+")"==n.__regionList[a]){o(a);break}}o("")};_?h():s.then(function(a){_=a,h()})})},t.prototype.textWidth=function(e){this.painter.save(),C(this.painter,this.__specialConfig,0,0,0);var i=this.painter.measureText(e+"").width;return this.painter.restore(),i},t.prototype.getContext=function(e){return e===void 0&&(e=!1),e?this.__region?this.__region.painter:null:this.painter},t.prototype.getInfo=function(){return{width:this.painter.canvas.width/this.__scaleSize,height:this.painter.canvas.height/this.__scaleSize}},t.prototype.createLinearGradient=function(e,i,n,o){return function(s,_,h,a,l){var p=s.createLinearGradient(_,h,a,l);return Z(p)}(this.painter,e,i,n,o)},t.prototype.createRadialGradient=function(e,i,n){return function(o,s,_,h){var a=o.createRadialGradient(s,_,0,s,_,h);return Z(a)}(this.painter,e,i,n)},t.prototype.createConicGradient=function(e,i,n,o){return function(s,_,h,a,l){var p=s.createConicGradient(a,_,h);return Z(p,l?function(f){return l/(2*Math.PI)*f}:void 0)}(this.painter,e,i,n,o)},t.prototype.getColor=function(e,i){e*=this.__scaleSize,i*=this.__scaleSize;var n=this.painter.getImageData(e-.5,i-.5,1,1).data;return"rgba("+n[0]+","+n[1]+","+n[2]+","+n[3]+")"},t}(st),gt=Object.prototype.toString;function vt(r){if(r===null||typeof r!="object"||function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":gt.call(e)}(r)!="[object Object]")return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var t=r;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(r)===t}function F(r,t){for(var e in r)t[e]=r[e];return t}var yt=function(r){function t(e,i,n,o){i===void 0&&(i={}),n===void 0&&(n=0),o===void 0&&(o=0);var s=this;if(!e)throw new Error("VISLite Canvas:The mount point requires an HTMLElement type but encountered null.");i=F(i,{region:!0,willReadFrequently:!1}),n=n||e.clientWidth,o=o||e.clientHeight;var _,h=null,a=e;a._vislite_canvas_?(_=a._vislite_canvas_[0],h=a._vislite_canvas_[1]):(_=document.createElement("canvas"),e.appendChild(_),i.region&&(h=document.createElement("canvas")),a._vislite_canvas_=[_,h],e.setAttribute("vislite","Canvas"));for(var l=[h,_],p=0;p<l.length;p++){var f=l[p];f&&(f.style.width=n+"px",f.setAttribute("width",p*n+n+""),f.style.height=o+"px",f.setAttribute("height",p*o+o+""))}return(s=r.call(this,_,h,{willReadFrequently:i.willReadFrequently},2)||this).__canvas=_,s.__el=e,s.painter.scale(2,2),s}return U(t,r),t.prototype.toDataURL=function(){var e=this;return new Promise(function(i){i(e.__canvas.toDataURL())})},t.prototype.bind=function(e,i){var n=this;return this.__el.addEventListener(e,function(o){n.getRegion(o.offsetX,o.offsetY).then(function(s){i(s,o.offsetX,o.offsetY)})}),this},t}(ht),at=function(r,t,e){var i=r.createShader(t);if(i==null)throw new Error("Unable to create shader!");if(r.shaderSource(i,e),r.compileShader(i),!r.getShaderParameter(i,r.COMPILE_STATUS))throw new Error("Failed to compile shader:"+r.getShaderInfoLog(i));return i},mt=function(){function r(t){this.__painter=t}return r.prototype.use=function(){return this.__painter.useProgram(this.program),this},r.prototype.compile=function(t,e){return this.program=function(i,n,o){var s=at(i,i.VERTEX_SHADER,n),_=at(i,i.FRAGMENT_SHADER,o),h=i.createProgram();if(i.attachShader(h,s),i.attachShader(h,_),i.linkProgram(h),!i.getProgramParameter(h,i.LINK_STATUS))throw new Error("Failed to link program: "+i.getProgramInfoLog(h));return h}(this.__painter,t,e),this},r}(),Et=function(){function r(t,e,i){i===void 0&&(i=0),this.__painter=t,this.__type={"2d":t.TEXTURE_2D,cube:t.TEXTURE_CUBE_MAP}[e],this.__texture=function(n,o,s){var _=n.createTexture();return n.activeTexture(n["TEXTURE"+s]),n.bindTexture(o,_),_}(t,this.__type,i),t.texParameteri(this.__type,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(this.__type,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(this.__type,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}return r.prototype.useImage=function(t){return function(e,i,n,o,s,_){e.texImage2D(i,n,o,o,s,_)}(this.__painter,this.__type,0,this.__painter.RGBA,this.__painter.UNSIGNED_BYTE,t),this},r.prototype.useCube=function(t,e,i){return function(n,o,s,_,h,a,l,p,f){for(var v,c=[n.TEXTURE_CUBE_MAP_POSITIVE_X,n.TEXTURE_CUBE_MAP_NEGATIVE_X,n.TEXTURE_CUBE_MAP_POSITIVE_Y,n.TEXTURE_CUBE_MAP_NEGATIVE_Y,n.TEXTURE_CUBE_MAP_POSITIVE_Z,n.TEXTURE_CUBE_MAP_NEGATIVE_Z],u=0;u<c.length;u++)a[u]&&(v=c[u],n.texImage2D(v,s,_,l,p,0,_,h,null),n.bindTexture(o,f),n.texImage2D(v,s,_,_,h,a[u]));n.generateMipmap(o)}(this.__painter,this.__type,0,this.__painter.RGBA,this.__painter.UNSIGNED_BYTE,t,e,i,this.__texture),this},r}(),wt=function(){function r(t,e){e===void 0&&(e=!1),this.__painter=t,this.__isElement=e,this.__buffer=function(i){return i.createBuffer()}(t),this.__type=e?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER}return r.prototype.use=function(){return this.__painter.bindBuffer(this.__type,this.__buffer),this},r.prototype.write=function(t){return function(e,i,n,o){var s=n?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;e.bufferData(s,i,o)}(this.__painter,t,this.__isElement,this.__painter.STATIC_DRAW),this.__fsize=t.BYTES_PER_ELEMENT,this},r.prototype.divide=function(t,e,i,n){return n===void 0&&(n=0),function(o,s,_,h,a,l,p){o.vertexAttribPointer(s,_,h,p,a,l),o.enableVertexAttribArray(s)}(this.__painter,t,e,this.__painter.FLOAT,i*this.__fsize,n*this.__fsize,!1),this},r}(),ut=function(r,t,e,i){var n=Math.cos(r),o=Math.sin(r);return[t*n-e*o,t*o+e*n,i]},Tt=function(){function r(t,e){t===void 0&&(t=7),e===void 0&&(e=[107,36]),this.name="Eoap",this.__scale=t,this.__center=e}return r.prototype.use=function(t,e){var i,n,o,s,_,h,a=(i=(360-e)/180*Math.PI,n=100*this.__scale,o=0,s=0,_=Math.cos(i),h=Math.sin(i),[s*h+n*_,o,s*_-n*h]);return a=ut(t/180*Math.PI,a[0],a[1],a[2]),a=ut((90-this.__center[0])/180*Math.PI,a[0],a[1],a[2]),a=function(l,p,f,v){var c=Math.cos(l),u=Math.sin(l);return[p,f*c-v*u,f*u+v*c]}((90-this.__center[1])/180*Math.PI,a[0],a[1],a[2]),[-a[0],a[1],a[2]]},r}(),xt=function(r,t){r===void 0&&(r=7),t===void 0&&(t=[107,36]),this.name="Mercator";var e=100*r*Math.PI/180,i=e*t[0],n=-1*e*t[1];this.use=function(o,s){return[.8*(e*o-i),-1*e*s-n,0]}},bt=function(){function r(t){t===void 0&&(t={}),this.name="Tree",this.__config=F(t,{root:function(e){return e},children:function(e){return e.children},id:function(e){return e.name}})}return r.prototype.use=function(t,e){return e===void 0&&(e={}),function(i,n,o){var s=function(v,c){var u,g,d={},m=c.root(v);u=g=c.id(m),d[u]={data:m,pid:null,id:u,isOpen:!0,show:!0,deg:0,children:[]};var y=1;return function T(w,x){var R=c.children(w,v);y+=R?R.length:0;for(var O=0;R&&O<R.length;O++)u=c.id(R[O]),d[x].children.push(u),d[u]={data:R[O],pid:x,id:u,isOpen:!0,show:!0,deg:0,children:[]},T(R[O],u)}(m,u),{rid:g,value:d,num:y}}(i,n),_=s.value,h=s.rid;if(s.num==1)return _[h].left=.5,_[h].top=.5,_[h].show=!0,{deep:1,node:_,root:h,size:1};var a=[],l=0,p=0;for(var f in o[h]?(_[h].left=.5,_[h].top=.5,_[h].show=!0,l=1):function v(c,u){u>p&&(p=u);var g=0;if(!o[c.id])for(g=0;g<c.children.length;g++)v(_[c.children[g]],u+1);if(_[c.id].left=u+.5,g==0?(a[u]==null&&(a[u]=-.5),a[u-1]==null&&(a[u-1]=-.5),_[c.id].top=a[u]+1,a[u]+1+.5*(_[c.pid].children.length-1)-1<a[u-1]&&(_[c.id].top=a[u-1]+1-.5*(_[c.pid].children.length-1))):_[c.id].top=.5*(_[c.children[0]].top+_[c.children[g-1]].top),_[c.id].top<=a[u])var d=a[u]+1-_[c.id].top(function m(y,T){_[y].top+=d,a[T]<_[y].top&&(a[T]=_[y].top);for(var w=0;w<_[y].children.length;w++)m(_[y].children[w],T+1)})(c.id,u);a[u]=_[c.id].top,_[c.id].top+.5>l&&(l=_[c.id].top+.5)}(_[h],0),o)o[f]&&(_[f].isOpen=!1,function v(c,u,g){for(var d=0;d<_[c].children.length;d++)_[_[c].children[d]].left=u,_[_[c].children[d]].top=g,_[_[c].children[d]].show=!1,v(_[c].children[d],u,g)}(f,_[f].left,_[f].top));return{node:_,root:h,size:l,deep:p+1}}(t,this.__config,e)},r}(),Pt=function(r){function t(){var e=r!==null&&r.apply(this,arguments)||this;return e.name="TreeLayout",e.__option={offsetX:0,offsetY:0,duration:500,type:"plain",direction:"LR",x:100,y:100,width:100,height:100,radius:100},e.__noOpens={},e}return U(t,r),t.prototype.setOption=function(e){return F(e,this.__option),this},t.prototype.use=function(e,i){i===void 0&&(i={});var n=r.prototype.use.call(this,e,i);if(this.__option.offsetX!=0||this.__option.offsetY!=0){for(var o in n.node)if(!n.node[o].show){var s=0,_=o;do _=n.node[_].pid,s++;while(!n.node[_].show);n.node[o].left+=this.__option.offsetX*s,n.node[o].top+=this.__option.offsetY*s}}if(this.__option.type=="rect"){if(this.__option.direction=="LR"||this.__option.direction=="RL"){var h=this.__option.height/n.size,a=this.__option.width/(n.deep-1),l=this.__option.y-.5*this.__option.height,p=this.__option.direction=="LR"?1:-1;for(var o in n.node)n.deep==1?(n.node[o].left=this.__option.x+.5*this.__option.width*p,n.node[o].top=this.__option.y):(n.node[o].left=this.__option.x+(n.node[o].left-.5)*a*p,n.node[o].top=n.node[o].top*h+l)}else if(this.__option.direction=="TB"||this.__option.direction=="BT")for(var o in h=this.__option.width/n.size,a=this.__option.height/(n.deep-1),l=this.__option.x-.5*this.__option.width,p=this.__option.direction=="TB"?1:-1,n.node)if(n.node[o].deg=this.__option.direction=="TB"?.5*Math.PI:-.5*Math.PI,n.deep==1)n.node[o].left=this.__option.x,n.node[o].top=this.__option.y+.5*this.__option.height*p;else{var f=n.node[o].left;n.node[o].left=n.node[o].top*h+l,n.node[o].top=this.__option.y+(f-.5)*a*p}}else if(this.__option.type=="circle"){var v=this.__option.x,c=this.__option.y,u=2*Math.PI/n.size,g=this.__option.radius/(n.deep-1);for(var o in n.node)if(n.node[o].left==.5)n.node[o].left=v,n.node[o].top=c;else{var d=V(v,c,u*n.node[o].top,v+(n.node[o].left-.5)*g,c);n.node[o].deg=u*n.node[o].top,n.node[o].left=d[0],n.node[o].top=d[1]}}return n},t.prototype.bind=function(e,i,n){return n===void 0&&(n={}),this.__rback=i,this.__oralTree=e,this.__noOpens=n,this.__preTree=this.use(this.__oralTree,this.__noOpens),this.__rback(this.__preTree),this},t.prototype.unbind=function(){return this.__rback=function(){return null},this.__oralTree=null,this.__preTree=null,this.__noOpens={},this},t.prototype.doUpdate=function(){var e=this,i=this.use(this.__oralTree,this.__noOpens),n=JSON.parse(JSON.stringify(i));return et(function(o){if(e.__preTree)for(var s in n.node)(i.node[s].show||e.__preTree.node[s].show)&&(n.node[s].show=!0,n.node[s].left=e.__preTree.node[s].left+(i.node[s].left-e.__preTree.node[s].left)*o,n.node[s].top=e.__preTree.node[s].top+(i.node[s].top-e.__preTree.node[s].top)*o);e.__rback(n)},this.__option.duration,function(){e.__preTree=i,e.__rback(e.__preTree)}),this},t.prototype.closeNode=function(e){return this.__preTree?(this.__noOpens[e]=!0,this.doUpdate(),this):this},t.prototype.openNode=function(e){return this.__preTree?(this.__noOpens[e]=!1,this.doUpdate(),this):this},t.prototype.toggleNode=function(e){return this.__preTree?(this.__noOpens[e]=!this.__noOpens[e],this.doUpdate(),this):this},t}(bt),Ct={Cardinal:pt,Hermite:K,Matrix4:ft,rotate:V,move:function(r,t,e,i,n){var o=Math.sqrt(r*r+t*t);return[r*e/o+i,t*e/o+n]},scale:function(r,t,e,i,n){return[e*(i-r)+r,e*(n-t)+t]},getLoopColors:function(r,t,e){t===void 0&&(t=1);var i=e?e(t):["rgba(84,112,198,"+t+")","rgba(145,204,117,"+t+")","rgba(250,200,88,"+t+")","rgba(238,102,102,"+t+")","rgba(115,192,222,"+t+")","rgba(59,162,114,"+t+")","rgba(252,132,82,"+t+")","rgba(154,96,180,"+t+")","rgba(234,124,204,"+t+")"],n=[];if(r<=i.length)return i;if(r%i.length==0)for(var o=0;o<r/i.length;o++)n=n.concat(i);else{for(var s=1;s<r/i.length;s++)n=n.concat(i);if(r%i.length==1)n=n.concat(i[4]);else for(var _=0;_<r%i.length;_++)n=n.concat(i[_])}return n},animation:et,ruler:function(r,t,e,i){if(r<t){var n=t;t=r,r=n}else if(r==t)return[r];var o=function(u){for(var g=u<100&&u>-100?10:.1,d=-1,m=u;g==10?m>=-100&&m<=100:m<=-100||m>=100;)d+=1,m*=g;if(g==10)return Math.pow(10,d);for(var y="0.",T=1;T<d;T++)y+="0";return+(y+"1")}(r-t),s=Math.ceil((r-t)*o/e),_=function(u){var g=({3:2,4:5,6:5,7:5,8:10,9:10,11:10,12:10,13:15,14:15,16:15,17:15,18:20,19:20,21:20,22:20,23:25,24:25,26:25,27:25}[s+u]||s+u)/o,d=Math.floor(t/g)*g,m=[];m.push(d);for(var y=1;m[m.length-1]<r;y++)m.push(d+g*y);return m},h=_(0),a=function(){for(var u=[],g=h[h.length-1]-(i==null?void 0:i.max),d=0;d<h.length;d++)d+1<h.length&&h[d+1]-g<t||u.push(h[d]-g);return u},l=function(){for(var u=[],g=h[0]-(i==null?void 0:i.min),d=0;d<h.length&&(u[d]=h[d]-g,!(r<=u[d]));d++);return u};if(i){if("max"in i&&"min"in i&&i.max>=r&&i.min<=t){var p=function(){if(h[0]>=i.min&&h[h.length-1]<=i.max)return!0;var u=a();if(u[0]>=i.min&&u[u.length-1]<=i.max)return h=u,!0;var g=l();return g[0]>=i.min&&g[u.length-1]<=i.max?(h=g,!0):void 0};if(p())return h;for(var f=1;f<100;f++)if(h=_(f),p()||(h=_(-f),p()))return h}"max"in i&&i.max>=r?i.max<h[h.length-1]&&(h=a()):"min"in i&&i.min<=t&&i.min>h[0]&&(h=l())}for(var v=0;v<h.length;v++){var c=h[v]+"";/\./.test(c)&&(/9{7,}$/.test(c)?(c=c.replace(/9{7,}$/,""),h[v]=+(c.substring(0,c.length-1)+(+c[c.length-1]+1))):/0{7,}\d$/.test(c)&&(h[v]=+c.replace(/0{7,}\d$/,"")))}return h},SVG:dt,Canvas:yt,RawCanvas:ht,getWebGLContext:function(r,t,e){if(t===void 0&&(t=1),!r)throw new Error("VISLite getWebGLContext:The mount point requires an HTMLElement type but encountered null.");var i,n=r.clientWidth,o=r.clientHeight,s=r;return s._vislite_canvas_?i=s._vislite_canvas_:(i=document.createElement("canvas"),r.appendChild(i),s._vislite_canvas_=i,r.setAttribute("vislite","WebGL")),i.style.width=n+"px",i.setAttribute("width",n+""),i.style.height=o+"px",i.setAttribute("height",o+""),function(_,h,a,l){a===void 0&&(a={}),l===void 0&&(l="scaleToFill");for(var p=["experimental-webgl","webkit-3d","moz-webgl"],f=_.getContext("webgl",a),v=0;v<p.length;v++){try{f=_.getContext(p[v],a)}catch{}if(f)break}if(!f)throw new Error("Non canvas or browser does not support webgl.");var c=f.canvas.width,u=f.canvas.height,g=h,d=h;l=="aspectFit"?c>u?g*=u/c:u>c&&(d*=c/u):l=="aspectFill"&&(c>u?d*=c/u:u>c&&(g*=u/c));var m=c*g,y=u*d;return f.viewport(.5*(c-m),.5*(u-y),m,y),f.depthFunc(f.LEQUAL),f.enable(f.DEPTH_TEST),f}(i,t,{},e)},Shader:mt,Texture:Et,Buffer:wt,Eoap:Tt,Mercator:xt,throttle:function(r,t){var e={time:200,keep:!1,opportunity:"end"};if(t)for(var i in t)e[i]=t[i];var n,o=!1,s=!1,_=!1;return function(){const h=this;if(n=arguments,o)s=!0,_=!0;else{e.opportunity!="end"&&r.apply(h,n),o=!0;var a=setInterval(()=>{s?e.keep||r.apply(h,n):(e.opportunity!="begin"&&(_||e.opportunity=="end")&&r.apply(h,n),o=!1,_=!1,clearInterval(a)),s=!1},e.time)}}},assemble:_t,TreeLayout:Pt,initOption:F,mergeOption:function(r,t){(function e(i,n){for(var o in n){var s=n[o];vt(s)?(i[o]||(i[o]={}),e(i[o],n[o])):i[o]=s}})(r,t)}};return Ct},lt.exports=Q()})(Rt);
