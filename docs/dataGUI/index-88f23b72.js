import{f as S}from"./index.es.min-e450be9a.js";import{d as H,r as E,f as b,c as w,o as B,_ as C}from"./index-c6acef26.js";/*!
* getLoopColors of VISLite JavaScript Library v1.2.1
* git+https://github.com/oi-contrib/VISLite.git
*/function T(u,i,v){i===void 0&&(i=1);var s=v?v(i):["rgba(84,112,198,"+i+")","rgba(145,204,117,"+i+")","rgba(250,200,88,"+i+")","rgba(238,102,102,"+i+")","rgba(115,192,222,"+i+")","rgba(59,162,114,"+i+")","rgba(252,132,82,"+i+")","rgba(154,96,180,"+i+")","rgba(234,124,204,"+i+")"],n=[];if(u<=s.length)return s;if(u%s.length==0)for(var e=0;e<u/s.length;e++)n=n.concat(s);else{for(var t=1;t<u/s.length;t++)n=n.concat(s);if(u%s.length==1)n=n.concat(s[4]);else for(var l=0;l<u%s.length;l++)n=n.concat(s[l])}return n}const D=[{name:"Agricultural 'waste'"},{name:"Bio-conversion"},{name:"Liquid"},{name:"Losses"},{name:"Solid"},{name:"Gas"},{name:"Biofuel imports"},{name:"Biomass imports"},{name:"Coal imports"},{name:"Coal"},{name:"Coal reserves"},{name:"District heating"},{name:"Industry"},{name:"Heating and cooling - commercial"},{name:"Heating and cooling - homes"},{name:"Electricity grid"},{name:"Over generation / exports"},{name:"H2 conversion"},{name:"Road transport"},{name:"Agriculture"},{name:"Rail transport"},{name:"Lighting & appliances - commercial"},{name:"Lighting & appliances - homes"},{name:"Gas imports"},{name:"Ngas"},{name:"Gas reserves"},{name:"Thermal generation"},{name:"Geothermal"},{name:"H2"},{name:"Hydro"},{name:"International shipping"},{name:"Domestic aviation"},{name:"International aviation"},{name:"National navigation"},{name:"Marine algae"},{name:"Nuclear"},{name:"Oil imports"},{name:"Oil"},{name:"Oil reserves"},{name:"Other waste"},{name:"Pumped heat"},{name:"Solar PV"},{name:"Solar Thermal"},{name:"Solar"},{name:"Tidal"},{name:"UK land based bioenergy"},{name:"Wave"},{name:"Wind"}],G=[{source:"Agricultural 'waste'",target:"Bio-conversion",value:124.729},{source:"Bio-conversion",target:"Liquid",value:.597},{source:"Bio-conversion",target:"Losses",value:26.862},{source:"Bio-conversion",target:"Solid",value:280.322},{source:"Bio-conversion",target:"Gas",value:81.144},{source:"Biofuel imports",target:"Liquid",value:35},{source:"Biomass imports",target:"Solid",value:35},{source:"Coal imports",target:"Coal",value:11.606},{source:"Coal reserves",target:"Coal",value:63.965},{source:"Coal",target:"Solid",value:75.571},{source:"District heating",target:"Industry",value:10.639},{source:"District heating",target:"Heating and cooling - commercial",value:22.505},{source:"District heating",target:"Heating and cooling - homes",value:46.184},{source:"Electricity grid",target:"Over generation / exports",value:104.453},{source:"Electricity grid",target:"Heating and cooling - homes",value:113.726},{source:"Electricity grid",target:"H2 conversion",value:27.14},{source:"Electricity grid",target:"Industry",value:342.165},{source:"Electricity grid",target:"Road transport",value:37.797},{source:"Electricity grid",target:"Agriculture",value:4.412},{source:"Electricity grid",target:"Heating and cooling - commercial",value:40.858},{source:"Electricity grid",target:"Losses",value:56.691},{source:"Electricity grid",target:"Rail transport",value:7.863},{source:"Electricity grid",target:"Lighting & appliances - commercial",value:90.008},{source:"Electricity grid",target:"Lighting & appliances - homes",value:93.494},{source:"Gas imports",target:"Ngas",value:40.719},{source:"Gas reserves",target:"Ngas",value:82.233},{source:"Gas",target:"Heating and cooling - commercial",value:.129},{source:"Gas",target:"Losses",value:1.401},{source:"Gas",target:"Thermal generation",value:151.891},{source:"Gas",target:"Agriculture",value:2.096},{source:"Gas",target:"Industry",value:48.58},{source:"Geothermal",target:"Electricity grid",value:7.013},{source:"H2 conversion",target:"H2",value:20.897},{source:"H2 conversion",target:"Losses",value:6.242},{source:"H2",target:"Road transport",value:20.897},{source:"Hydro",target:"Electricity grid",value:6.995},{source:"Liquid",target:"Industry",value:121.066},{source:"Liquid",target:"International shipping",value:128.69},{source:"Liquid",target:"Road transport",value:135.835},{source:"Liquid",target:"Domestic aviation",value:14.458},{source:"Liquid",target:"International aviation",value:206.267},{source:"Liquid",target:"Agriculture",value:3.64},{source:"Liquid",target:"National navigation",value:33.218},{source:"Liquid",target:"Rail transport",value:4.413},{source:"Marine algae",target:"Bio-conversion",value:4.375},{source:"Ngas",target:"Gas",value:122.952},{source:"Nuclear",target:"Thermal generation",value:839.978},{source:"Oil imports",target:"Oil",value:504.287},{source:"Oil reserves",target:"Oil",value:107.703},{source:"Oil",target:"Liquid",value:611.99},{source:"Other waste",target:"Solid",value:56.587},{source:"Other waste",target:"Bio-conversion",value:77.81},{source:"Pumped heat",target:"Heating and cooling - homes",value:193.026},{source:"Pumped heat",target:"Heating and cooling - commercial",value:70.672},{source:"Solar PV",target:"Electricity grid",value:59.901},{source:"Solar Thermal",target:"Heating and cooling - homes",value:19.263},{source:"Solar",target:"Solar Thermal",value:19.263},{source:"Solar",target:"Solar PV",value:59.901},{source:"Solid",target:"Agriculture",value:.882},{source:"Solid",target:"Thermal generation",value:400.12},{source:"Solid",target:"Industry",value:46.477},{source:"Thermal generation",target:"Electricity grid",value:525.531},{source:"Thermal generation",target:"Losses",value:787.129},{source:"Thermal generation",target:"District heating",value:79.329},{source:"Tidal",target:"Electricity grid",value:9.452},{source:"UK land based bioenergy",target:"Bio-conversion",value:182.01},{source:"Wave",target:"Electricity grid",value:19.013},{source:"Wind",target:"Electricity grid",value:289.366}],h={nodes:D,links:G};function O(u,i,v,s,n){let e={},t,l,r,a;for(t=0;t<u.nodes.length;t++)e[u.nodes[t].name]={pres:[],nexts:[],deep:0,_sValue:0,_tValue:0,preTops:[],nextTops:[]};for(t=0;t<u.links.length;t++)r=u.links[t],e[r.source].nexts.push({name:r.target,value:r.value}),e[r.source]._sValue+=r.value,e[r.target].pres.push({name:r.source,value:r.value}),e[r.target]._tValue+=r.value,e[r.source].deep>=e[r.target].deep&&(a=e[r.source].deep+1-e[r.target].deep,e[r.target].deep+=a,function L(d,y){if(e[d].deep<y){e[d].deep=y;let _=e[d].nexts,m;for(m=0;m<_.length;m++)L(_[m].name,e[d].deep+1)}}(r.target,e[r.target].deep+1));let o=[];for(t in e)o[e[t].deep]==null&&(o[e[t].deep]=0),e[t].value=e[t]._sValue>e[t]._tValue?e[t]._sValue:e[t]._tValue,o[e[t].deep]+=e[t].value;let c=[],g=0;for(t=0;t<o.length;t++)g<o[t]&&(g=o[t]),c.push(0);let f=i/o.length,x=f/3,p;for(t in e){for(p=e[t].value/o[e[t].deep]*v,e[t].width=x,e[t].height=e[t].value/g*v*.9,e[t].left=f*(e[t].deep+1/3)+s,e[t].top=c[e[t].deep]+(p-e[t].height)*.5+n,e[t].preTops.push(e[t].top),l=0;l<e[t].pres.length;l++)e[t].preTops[l+1]=e[t].preTops[l]+e[t].pres[l].value/e[t].value*e[t].height;for(e[t].nextTops.push(e[t].top),l=0;l<e[t].nexts.length;l++)e[t].nextTops[l+1]=e[t].nextTops[l]+e[t].nexts[l].value/e[t].value*e[t].height;c[e[t].deep]+=p}return e}const q=H({__name:"index",setup(u){let i=E();return b(()=>{let v=i.value.clientWidth,s=i.value.clientHeight,n=new S(i.value),e=O(h,v-100,s-60,10,30),t=T(h.nodes.length),l=T(h.nodes.length,.2);n.config({fontSize:10});let r,a,o,c,g;for(r in e)for(a=e[r],n.config({fillStyle:l.pop()}),c=0;c<a.nexts.length;c++)o=e[a.nexts[c].name],g=(o.left-(a.left+a.width))*.5,n.beginPath().moveTo(a.left+a.width,a.nextTops[c]).bezierCurveTo(a.left+a.width+g,a.nextTops[c],o.left-g,o.preTops[0],o.left,o.preTops[0]).lineTo(o.left,o.preTops[1]).bezierCurveTo(o.left-g,o.preTops[1],a.left+a.width+g,a.nextTops[c+1],a.left+a.width,a.nextTops[c+1]).fill(),o.preTops.shift();for(r in e)a=e[r],n.config({fillStyle:t.pop()}).fillRect(a.left,a.top,a.width,a.height),n.config({fillStyle:"#555555"}).fillText(r,a.left+a.width,a.top+a.height*.5)}),(v,s)=>(B(),w("div",{class:"container",ref_key:"elRef",ref:i},null,512))}});const k=C(q,[["__scopeId","data-v-2e76614d"]]);export{k as default};
